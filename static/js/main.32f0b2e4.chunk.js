(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),i=n.n(o),c=(n(74),n(75),n(129)),l=n(120),s=n(32),u=n(131),m=n(101),f=n(122),v=n(56),d=n.n(v),h=n(16),E=n(14),p=n(35),b=n.n(p),g=n(52),O=n(22),y=n(53),w=n(54),I=n.n(w),M={foundMovies:[],nominates:[],isSearchError:!1,searchedTitle:""},j=function(e){return{type:"SEARCH_ERROR",movie:e}},N=function(e){try{var t=localStorage.getItem("state");if(null===t)return;var n=JSON.parse(t);return e.nominates=n.nominates,e}catch(a){return e}}(M),T=Object(O.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FOUND_MOVIES":var n=t.foundMovies;if(e.nominates&&e.nominates.length){var a=e.nominates.map((function(e){return e.imdbID}));n.forEach((function(e){-1!==a.indexOf(e.imdbID)&&(e.disableNominate=!0)}))}return Object(E.a)(Object(E.a)({},e),{},{foundMovies:n,isSearchError:!1});case"NOMINATE_MOVIE":return e.foundMovies.forEach((function(e){e.imdbID===t.movie.imdbID&&(e.disableNominate=!0)})),Object(E.a)(Object(E.a)({},e),{},{nominates:[].concat(Object(h.a)(e.nominates),[t.movie])});case"WITHDRAW_MOVIE":var r=e.nominates.filter((function(e){return e.imdbID!==t.movie.imdbID}));return e.foundMovies&&e.foundMovies.forEach((function(e){e.imdbID===t.movie.imdbID&&(e.disableNominate=!1)})),Object(E.a)(Object(E.a)({},e),{},{nominates:r});case"SEARCH_ERROR":return Object(E.a)(Object(E.a)({},e),{},{isSearchError:!0,searchedTitle:t.movie});default:return e}}),N,Object(O.a)(y.a));T.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){console.log(n)}}({nominates:T.getState().nominates})}));var S=T,D=n(15),x=Object(l.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1,width:400},iconButton:{padding:10}}}));var k=Object(D.b)((function(e){return{places:e.placesToVisit}}),(function(e){return{getMovies:function(t){return e(function(e){return function(){var t=Object(g.a)(b.a.mark((function t(n){var a,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.get("https://www.omdbapi.com/?apikey=c1268e3b&s=".concat(e,"&type=movie"));case 3:"False"!==(a=t.sent).data.Response?(r=a.data.Search,n({type:"FETCH_FOUND_MOVIES",foundMovies:r})):n(j(e)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("Error with finding movie",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=x(),n=Object(a.useState)(""),o=Object(s.a)(n,2),i=o[0],c=o[1],l=e.getMovies;return r.a.createElement(m.a,{className:t.root},r.a.createElement(u.a,{className:t.input,placeholder:"Movie title",onKeyDown:function(e){13===e.keyCode&&l(i)},onChange:function(e){e.preventDefault(),c(e.target.value)}}),r.a.createElement(f.a,{type:"submit",className:t.iconButton,onClick:function(e){e.preventDefault(),l(i)}},r.a.createElement(d.a,null)))})),R=n(124),_=n(132),C=n(125),F=n(126),V=n(57),W=n.n(V),A=n(26),B=n(130),H=n(123);var J=Object(D.b)((function(e){return{foundMovies:e.foundMovies,nominates:e.nominates,isSearchError:e.isSearchError,searchedTitle:e.searchedTitle}}),(function(e){return{nominateMovie:function(t){return e(function(e){return{type:"NOMINATE_MOVIE",movie:e}}(t))}}}))((function(e){var t=e.foundMovies,n=e.nominates,a=e.nominateMovie,o=e.isSearchError,i=e.searchedTitle;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{variant:"h6"},"Movie search result:"),o&&r.a.createElement(m.a,null,r.a.createElement(B.a,{severity:"warning"},r.a.createElement(H.a,null,'We did not find any movies with "'.concat(i,'"')),"Try something else")),t.length>0&&r.a.createElement(m.a,null,r.a.createElement(R.a,null,t.map((function(e){return r.a.createElement(_.a,{key:"".concat(e.imdbID).concat(e.Title)},r.a.createElement(C.a,{style:{width:"80%"}},r.a.createElement(A.a,{variant:"body2"},"".concat(e.Title," (year ").concat(e.Year,")"))),r.a.createElement(F.a,{type:"submit",endIcon:r.a.createElement(W.a,null),disabled:e.disableNominate||n.length>=5,onClick:function(t){t.preventDefault(),n.length<5&&a(e)}},"Nominate"))})))))})),Y=n(58),G=n.n(Y);var P=Object(D.b)((function(e){return{nominates:e.nominates}}),(function(e){return{withdrawMovie:function(t){return e(function(e){return{type:"WITHDRAW_MOVIE",movie:e}}(t))}}}))((function(e){var t=e.nominates,n=e.withdrawMovie;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{variant:"h6"},"Nominees!:"),t.length>0&&r.a.createElement(m.a,null,r.a.createElement(R.a,null,t.map((function(e){return r.a.createElement(_.a,{key:"".concat(e.imdbID).concat(e.Title,"N")},r.a.createElement(C.a,{style:{width:"80%"}},r.a.createElement(A.a,{variant:"body2"},"".concat(e.Title," (year ").concat(e.Year,")"))),r.a.createElement(F.a,{type:"submit",endIcon:r.a.createElement(G.a,null),onClick:function(t){t.preventDefault(),n(e)}},"withdraw"))}))),t.length>=5&&r.a.createElement(B.a,{severity:"success"},r.a.createElement(H.a,null,"Yay! You have all nominees in!"),"To add something else withdraw one")))})),U=n(127),z=n(128),K=Object(l.a)((function(e){return{root:{flexGrow:1,marginBottom:20},title:{flexGrow:1,alignSelf:"center"}}}));function L(){var e=K();return r.a.createElement("div",{className:e.root},r.a.createElement(U.a,{position:"static"},r.a.createElement(z.a,null,r.a.createElement(A.a,{variant:"h4",className:e.title},"The Shoppies"))))}var $=Object(l.a)((function(e){return{bottomPush:{bottom:0,paddingBottom:10,marginTop:20}}}));function q(){var e=$();return r.a.createElement("div",{className:e.bottomPush},r.a.createElement(A.a,{style:{fontSize:"12px"}},r.a.createElement("a",{href:"https://icons8.com/icon/46684/movie-projector"},"Thank you, Icons8, for the Movie Projector icon")))}var Q=Object(l.a)((function(e){return{root:{flexGrow:1,margin:50,height:400}}}));var X=function(){var e=Q();return r.a.createElement("div",{className:e.root},r.a.createElement(L,null),r.a.createElement(c.a,{container:!0,spacing:2},r.a.createElement(c.a,{item:!0,xs:12},r.a.createElement(k,null)),r.a.createElement(c.a,{item:!0,xs:6},r.a.createElement(J,null)),r.a.createElement(c.a,{item:!0,xs:6},r.a.createElement(P,null))),r.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(D.a,{store:S},r.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,n){e.exports=n(100)},74:function(e,t,n){},75:function(e,t,n){}},[[69,1,2]]]);
//# sourceMappingURL=main.32f0b2e4.chunk.js.map